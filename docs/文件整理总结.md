# æ–‡ä»¶æ•´ç†æ€»ç»“

## ğŸ¯ æ•´ç†ç›®æ ‡

æ ¹æ®ç°æœ‰æ¶æ„è¦æ±‚ï¼Œæ¸…ç†è¿‡æ—¶æ–‡ä»¶ï¼Œä¼˜åŒ–ç›®å½•ç»“æ„ï¼Œå°†è‡ªåŠ¨ç”Ÿæˆçš„Javaæ–‡ä»¶æ”¾åˆ°`business`ç›®å½•ä¸‹ã€‚

## ğŸ—‘ï¸ å·²åˆ é™¤çš„è¿‡æ—¶æ–‡ä»¶

### æ–‡æ¡£æ–‡ä»¶ (docs/)
- âŒ `é”™é¢˜æœ¬å®½è¡¨æ··åˆæ¶æ„ä½¿ç”¨æŒ‡å—.md` - æ—§ç‰ˆæ··åˆæ¶æ„æ–‡æ¡£
- âŒ `é˜¿é‡Œäº‘æ¶æ„è°ƒæ•´è¯´æ˜.md` - è¿‡æ—¶çš„æ¶æ„è°ƒæ•´è¯´æ˜
- âŒ `AIç¼–ç¨‹è„šæ‰‹æ¶ä½¿ç”¨æŒ‡å—.md` - æ—§ç‰ˆä½¿ç”¨æŒ‡å—
- âŒ `å¼€å‘è§„èŒƒ.md` - è¿‡æ—¶çš„å¼€å‘è§„èŒƒ
- âŒ `æ¶æ„ä»‹ç».md` - æ—§ç‰ˆæ¶æ„ä»‹ç»
- âŒ `æ··åˆæ¶æ„å‡çº§è¯´æ˜.md` - è¿‡æ—¶çš„å‡çº§è¯´æ˜

### è„šæœ¬æ–‡ä»¶ (scripts/)
- âŒ `sql-generator.py` - æ—§ç‰ˆSQLç”Ÿæˆå™¨
- âŒ `job-generator.py` - æ—§ç‰ˆä½œä¸šç”Ÿæˆå™¨
- âŒ `start-dynamic-routing.sh` - è¿‡æ—¶çš„å¯åŠ¨è„šæœ¬
- âŒ `run-example.sh` - è¿‡æ—¶çš„ç¤ºä¾‹è„šæœ¬
- âŒ `simple-sql-generator.py` - ç®€åŒ–ç‰ˆSQLç”Ÿæˆå™¨
- âŒ `aliyun-sql-generator.py` - é˜¿é‡Œäº‘SQLç”Ÿæˆå™¨

### Javaåº”ç”¨æ–‡ä»¶ (src/main/java/com/flink/realtime/app/)
- âŒ `WrongbookWideTableApp.java` - æ—§ç‰ˆåº”ç”¨ï¼ˆå·²ç§»åŠ¨åˆ°businessç›®å½•ï¼‰
- âŒ `DynamicRoutingFlinkApp.java` - è¿‡æ—¶çš„åŠ¨æ€è·¯ç”±åº”ç”¨
- âŒ `SqlApp.java` - è¿‡æ—¶çš„SQLåº”ç”¨
- âŒ `BusinessDataStreamApp.java` - è¿‡æ—¶çš„ä¸šåŠ¡æ•°æ®æµåº”ç”¨
- âŒ `BusinessSqlApp.java` - è¿‡æ—¶çš„ä¸šåŠ¡SQLåº”ç”¨
- âŒ `DataStreamApp.java` - è¿‡æ—¶çš„æ•°æ®æµåº”ç”¨

### æ ¹ç›®å½•æ–‡ä»¶
- âŒ `è„šæ‰‹æ¶åŠŸèƒ½æ€»ç»“.md` - è¿‡æ—¶çš„åŠŸèƒ½æ€»ç»“

## âœ… ä¿ç•™çš„æ ¸å¿ƒæ–‡ä»¶

### æ–‡æ¡£æ–‡ä»¶ (docs/)
- âœ… `AIç¼–ç¨‹è„šæ‰‹æ¶ä½¿ç”¨æŒ‡å—-ç®€åŒ–ç‰ˆ.md` - æœ€æ–°ç‰ˆä½¿ç”¨æŒ‡å—
- âœ… `é‡æ„å®Œæˆæ€»ç»“.md` - é‡æ„å®Œæˆæ€»ç»“

### è„šæœ¬æ–‡ä»¶ (scripts/)
- âœ… `ai-job-generator.py` - æ ¸å¿ƒAIä½œä¸šç”Ÿæˆå™¨
- âœ… `test-ai-generator.py` - åŠŸèƒ½æµ‹è¯•è„šæœ¬
- âœ… `templates/dynamic-routing-template.json` - åŠ¨æ€è·¯ç”±æ¨¡æ¿
- âœ… `examples/wrongbook-wide-table-config.json` - é…ç½®æ–‡ä»¶ç¤ºä¾‹

### Javaæ–‡ä»¶
- âœ… `src/main/java/com/flink/realtime/business/WrongbookWideTableApp.java` - é”™é¢˜æœ¬ä¸šåŠ¡åº”ç”¨

### SQLæ–‡ä»¶
- âœ… `sql/wrongbook_wide_table_catalog.sql` - åŸºäºCatalogçš„SQL

## ğŸ“ æœ€ç»ˆæ–‡ä»¶ç»“æ„

```
flink-task/
â”œâ”€â”€ src/main/java/com/flink/realtime/
â”‚   â”œâ”€â”€ business/                           # ä¸šåŠ¡åº”ç”¨ç›®å½• â­
â”‚   â”‚   â””â”€â”€ WrongbookWideTableApp.java     # é”™é¢˜æœ¬ä¸šåŠ¡åº”ç”¨
â”‚   â”œâ”€â”€ bean/                               # å®ä½“ç±»
â”‚   â”œâ”€â”€ config/                             # é…ç½®ç±»
â”‚   â”œâ”€â”€ common/                             # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ function/                           # å‡½æ•°ç±»
â”‚   â”œâ”€â”€ processor/                          # å¤„ç†å™¨
â”‚   â”œâ”€â”€ sink/                               # è¾“å‡ºç±»
â”‚   â”œâ”€â”€ source/                             # æ•°æ®æº
â”‚   â””â”€â”€ util/                               # å·¥å…·ç±»
â”œâ”€â”€ sql/
â”‚   â””â”€â”€ wrongbook_wide_table_catalog.sql   # åŸºäºCatalogçš„SQL
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ ai-job-generator.py               # AIä½œä¸šç”Ÿæˆå™¨ â­
â”‚   â”œâ”€â”€ test-ai-generator.py              # åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ examples/
â”‚   â”‚   â””â”€â”€ wrongbook-wide-table-config.json  # é…ç½®æ–‡ä»¶ç¤ºä¾‹
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ dynamic-routing-template.json  # åŠ¨æ€è·¯ç”±æ¨¡æ¿ â­
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ AIç¼–ç¨‹è„šæ‰‹æ¶ä½¿ç”¨æŒ‡å—-ç®€åŒ–ç‰ˆ.md
â”‚   â”œâ”€â”€ é‡æ„å®Œæˆæ€»ç»“.md
â”‚   â””â”€â”€ æ–‡ä»¶æ•´ç†æ€»ç»“.md
â””â”€â”€ generated/                             # AIç”Ÿæˆçš„æ–‡ä»¶
    â”œâ”€â”€ wrongbook_wide_table.sql
    â”œâ”€â”€ wrongbook_job_config.json
    â””â”€â”€ start-wrongbook-job.sh
```

## ğŸ”„ å…³é”®æ”¹è¿›

### 1. ç›®å½•ç»“æ„ä¼˜åŒ–
- **æ–°å¢**: `business/` ç›®å½•ä¸“é—¨å­˜æ”¾ä¸šåŠ¡åº”ç”¨
- **æ¸…ç†**: åˆ é™¤è¿‡æ—¶çš„`app/`ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
- **è§„èŒƒ**: è‡ªåŠ¨ç”Ÿæˆçš„Javaæ–‡ä»¶ç»Ÿä¸€æ”¾åˆ°`business/`ç›®å½•

### 2. æ–‡ä»¶åˆ†ç±»æ•´ç†
- **æ–‡æ¡£**: åªä¿ç•™æœ€æ–°ç‰ˆçš„ä½¿ç”¨æŒ‡å—å’Œæ€»ç»“
- **è„šæœ¬**: åªä¿ç•™æ ¸å¿ƒçš„AIç”Ÿæˆå™¨å’Œæµ‹è¯•è„šæœ¬
- **ä»£ç **: ä¸šåŠ¡åº”ç”¨ç»Ÿä¸€æ”¾åˆ°`business/`ç›®å½•

### 3. AIç”Ÿæˆå™¨æ›´æ–°
- **è·¯å¾„è°ƒæ•´**: ç”Ÿæˆçš„Javaæ–‡ä»¶è‡ªåŠ¨æ”¾åˆ°`business/`ç›®å½•
- **åŒ…åæ›´æ–°**: åŒ…åä»`app`æ”¹ä¸º`business`
- **å¯åŠ¨è„šæœ¬**: æ›´æ–°ä¸»ç±»è·¯å¾„å¼•ç”¨

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. ç”Ÿæˆæ–°çš„ä¸šåŠ¡åº”ç”¨
```bash
# ç”Ÿæˆé”™é¢˜æœ¬åº”ç”¨
python scripts/ai-job-generator.py scripts/examples/wrongbook-wide-table-config.json

# ç”Ÿæˆçš„Javaæ–‡ä»¶ä½ç½®
src/main/java/com/flink/realtime/business/WrongbookWideTableApp.java
```

### 2. è¿è¡Œä¸šåŠ¡åº”ç”¨
```bash
# ä½¿ç”¨ç”Ÿæˆçš„å¯åŠ¨è„šæœ¬
./generated/start-wrongbook-job.sh

# æˆ–æ‰‹åŠ¨æäº¤
$FLINK_HOME/bin/flink run \
  --class com.flink.realtime.business.WrongbookWideTableApp \
  target/flink-task-1.0-SNAPSHOT.jar wrongbook
```

### 3. æµ‹è¯•ç³»ç»ŸåŠŸèƒ½
```bash
python scripts/test-ai-generator.py
```

## ğŸ“Š æ•´ç†æ•ˆæœ

### æ–‡ä»¶æ•°é‡å¯¹æ¯”
- **åˆ é™¤**: 15ä¸ªè¿‡æ—¶æ–‡ä»¶
- **ä¿ç•™**: 8ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **æ–°å¢**: 1ä¸ªbusinessç›®å½•
- **æ¸…ç†ç‡**: 65%

### ç›®å½•ç»“æ„ä¼˜åŒ–
- **æ›´æ¸…æ™°**: ä¸šåŠ¡åº”ç”¨ç‹¬ç«‹ç›®å½•
- **æ›´è§„èŒƒ**: è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ç»Ÿä¸€ä½ç½®
- **æ›´ç®€æ´**: å»é™¤å†—ä½™å’Œè¿‡æ—¶æ–‡ä»¶

### ç»´æŠ¤æ€§æå‡
- **å•ä¸€èŒè´£**: æ¯ä¸ªç›®å½•èŒè´£æ˜ç¡®
- **æ˜“äºæ‰©å±•**: æ–°ä¸šåŠ¡åº”ç”¨ç›´æ¥æ”¾åˆ°businessç›®å½•
- **ç‰ˆæœ¬æ§åˆ¶**: åªä¿ç•™æœ€æ–°ç‰ˆæœ¬æ–‡ä»¶

## ğŸ‰ æ€»ç»“

é€šè¿‡æœ¬æ¬¡æ–‡ä»¶æ•´ç†ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **æ¶æ„æ¸…æ™°**: ä¸šåŠ¡åº”ç”¨ã€å·¥å…·ç±»ã€é…ç½®ç±»åˆ†ç¦»æ˜ç¡®
2. **ä»£ç è§„èŒƒ**: è‡ªåŠ¨ç”Ÿæˆçš„Javaæ–‡ä»¶ç»Ÿä¸€æ”¾åˆ°businessç›®å½•
3. **ç»´æŠ¤ç®€åŒ–**: åˆ é™¤è¿‡æ—¶æ–‡ä»¶ï¼Œå‡å°‘ç»´æŠ¤è´Ÿæ‹…
4. **æ‰©å±•å‹å¥½**: æ–°ä¸šåŠ¡åº”ç”¨å¯ä»¥å¿«é€Ÿæ·»åŠ åˆ°businessç›®å½•

ç°åœ¨çš„é¡¹ç›®ç»“æ„æ›´åŠ æ¸…æ™°ã€è§„èŒƒï¼Œä¸ºåç»­çš„å¼€å‘å’Œç»´æŠ¤å¥ å®šäº†è‰¯å¥½çš„åŸºç¡€ã€‚
